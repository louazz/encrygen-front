import{S as ie,i as le,s as ce,e as o,t as z,k as u,w as Y,c as i,a as $,h as F,d as v,m as p,x as Z,b as k,g as J,F as t,N as ee,y as te,M as ne,q as re,o as se,B as ae,P as ue,K as I}from"../../chunks/vendor-b1e65c03.js";import pe from"../product/index.svelte-7d1ef521.js";import de from"../client/index.svelte-ae12e16c.js";import{e as he,i as fe,a as oe,t as me}from"../../chunks/useToken-a1248fbf.js";import{g as ve}from"../../chunks/navigation-bd39ff07.js";import"../product/list.svelte-8827e6ef.js";import"../product/listinv.svelte-20e0f0b9.js";import"../client/list.svelte-11e033ae.js";import"../client/listinv.svelte-6147fbe2.js";import"../../chunks/singletons-a6a7384f.js";function _e(h){let l,a,y,j,f,c,m,e,_,w,s,R,C,b,P,S,x,E,A,T,q,B,g,N,D,G,K,O,U,H,V,M;return b=new pe({props:{invoice:!0}}),g=new de({props:{invoice:!0}}),{c(){l=o("div"),a=o("a"),y=z("Generate"),j=u(),f=o("a"),c=o("input"),m=u(),e=o("div"),_=o("h3"),w=z("Add Products"),s=u(),R=o("hr"),C=u(),Y(b.$$.fragment),P=u(),S=o("hr"),x=u(),E=o("h3"),A=z("Select Client"),T=u(),q=o("hr"),B=u(),Y(g.$$.fragment),N=u(),D=o("hr"),G=u(),K=o("br"),O=u(),U=o("br"),this.h()},l(n){l=i(n,"DIV",{class:!0});var d=$(l);a=i(d,"A",{class:!0,href:!0});var L=$(a);y=F(L,"Generate"),L.forEach(v),j=p(d),f=i(d,"A",{hrf:!0});var Q=$(f);c=i(Q,"INPUT",{type:!0,placeholder:!0}),Q.forEach(v),d.forEach(v),m=p(n),e=i(n,"DIV",{class:!0});var r=$(e);_=i(r,"H3",{});var W=$(_);w=F(W,"Add Products"),W.forEach(v),s=p(r),R=i(r,"HR",{}),C=p(r),Z(b.$$.fragment,r),P=p(r),S=i(r,"HR",{}),x=p(r),E=i(r,"H3",{});var X=$(E);A=F(X,"Select Client"),X.forEach(v),T=p(r),q=i(r,"HR",{}),B=p(r),Z(g.$$.fragment,r),N=p(r),D=i(r,"HR",{}),G=p(r),K=i(r,"BR",{}),O=p(r),U=i(r,"BR",{}),r.forEach(v),this.h()},h(){k(a,"class","active"),k(a,"href","#"),k(c,"type","text"),k(c,"placeholder","Choose a Key"),k(f,"hrf","#"),k(l,"class","navbar"),k(e,"class","main")},m(n,d){J(n,l,d),t(l,a),t(a,y),t(l,j),t(l,f),t(f,c),ee(c,h[0]),J(n,m,d),J(n,e,d),t(e,_),t(_,w),t(e,s),t(e,R),t(e,C),te(b,e,null),t(e,P),t(e,S),t(e,x),t(e,E),t(E,A),t(e,T),t(e,q),t(e,B),te(g,e,null),t(e,N),t(e,D),t(e,G),t(e,K),t(e,O),t(e,U),H=!0,V||(M=[ne(a,"click",h[1]),ne(c,"input",h[2])],V=!0)},p(n,[d]){d&1&&c.value!==n[0]&&ee(c,n[0])},i(n){H||(re(b.$$.fragment,n),re(g.$$.fragment,n),H=!0)},o(n){se(b.$$.fragment,n),se(g.$$.fragment,n),H=!1},d(n){n&&v(l),n&&v(m),n&&v(e),ae(b),ae(g),V=!1,ue(M)}}}function be(h,l,a){let y,j,f,c;I(h,he,s=>a(3,y=s)),I(h,fe,s=>a(4,j=s)),I(h,oe,s=>a(5,f=s)),I(h,me,s=>a(6,c=s));let m="";const e=async()=>(console.log(oe),await fetch("https://backend.encrygen.co.uk/api/invoices/new",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token "+c},body:JSON.stringify({invoice:{client:f,user:j,products:y,encr:null,key:m}})}).then(s=>s)),_=async()=>{let s=await e();if(s.ok){let R=await s.json(),C=encodeURI(R.encr);ve("/invoice/"+C)}else alert("an error has occured")};function w(){m=this.value,a(0,m)}return[m,_,w]}class Ie extends ie{constructor(l){super();le(this,l,be,_e,ce,{})}}export{Ie as default};
