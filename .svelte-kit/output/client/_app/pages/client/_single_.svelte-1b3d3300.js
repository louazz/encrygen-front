import{S as ve,i as be,s as ye,e as u,t as J,k as L,c as p,a as _,h as q,d as f,m as A,b as e,g as re,F as l,M as N,L as U,N as Ee,G as x,O as ke,K as ie,v as Ie,P as ge}from"../../chunks/vendor-022b7721.js";import{p as we}from"../../chunks/stores-22f066c8.js";import{t as Te,i as Le}from"../../chunks/useToken-04409780.js";import{g as _e}from"../../chunks/navigation-bd39ff07.js";import"../../chunks/singletons-a6a7384f.js";function Ae(n){let t,a,c;return{c(){t=u("input"),this.h()},l(i){t=p(i,"INPUT",{class:!0,type:!0}),this.h()},h(){e(t,"class","button-primary"),e(t,"type","submit"),t.value="Edit"},m(i,E){re(i,t,E),a||(c=U(t,"click",n[7]),a=!0)},p:x,d(i){i&&f(t),a=!1,c()}}}function Ne(n){let t,a,c;return{c(){t=u("input"),this.h()},l(i){t=p(i,"INPUT",{class:!0,type:!0}),this.h()},h(){e(t,"class","button-primary"),e(t,"type","submit"),t.value="Add"},m(i,E){re(i,t,E),a||(c=U(t,"click",n[6]),a=!0)},p:x,d(i){i&&f(t),a=!1,c()}}}function je(n){let t,a,c,i,E,k,d,g,h,v,O,S,m,z,w,T,P,M,G,s,j,D,V,$,ee,b,te,B,C,F,le,se,y,ae,ne,oe;function ue(r,o){return r[5].params.single=="new"?Ne:Ae}let H=ue(n),I=H(n);return{c(){t=u("form"),a=u("div"),c=u("div"),i=u("label"),E=J("Name"),k=L(),d=u("input"),g=L(),h=u("div"),v=u("label"),O=J("First Line Address"),S=L(),m=u("input"),z=L(),w=u("div"),T=u("div"),P=u("label"),M=J("postcode"),G=L(),s=u("input"),j=L(),D=u("div"),V=u("label"),$=J("city"),ee=L(),b=u("input"),te=L(),B=u("div"),C=u("div"),F=u("label"),le=J("country"),se=L(),y=u("input"),ae=L(),I.c(),this.h()},l(r){t=p(r,"FORM",{});var o=_(t);a=p(o,"DIV",{class:!0});var K=_(a);c=p(K,"DIV",{class:!0});var R=_(c);i=p(R,"LABEL",{for:!0});var pe=_(i);E=q(pe,"Name"),pe.forEach(f),k=A(R),d=p(R,"INPUT",{class:!0,type:!0,placeholder:!0,id:!0}),R.forEach(f),g=A(K),h=p(K,"DIV",{class:!0});var Q=_(h);v=p(Q,"LABEL",{for:!0});var ce=_(v);O=q(ce,"First Line Address"),ce.forEach(f),S=A(Q),m=p(Q,"INPUT",{class:!0,type:!0,placeholder:!0,id:!0}),Q.forEach(f),K.forEach(f),z=A(o),w=p(o,"DIV",{class:!0});var W=_(w);T=p(W,"DIV",{class:!0});var X=_(T);P=p(X,"LABEL",{for:!0});var de=_(P);M=q(de,"postcode"),de.forEach(f),G=A(X),s=p(X,"INPUT",{class:!0,type:!0,placeholder:!0,id:!0}),X.forEach(f),j=A(W),D=p(W,"DIV",{class:!0});var Y=_(D);V=p(Y,"LABEL",{for:!0});var fe=_(V);$=q(fe,"city"),fe.forEach(f),ee=A(Y),b=p(Y,"INPUT",{class:!0,type:!0,placeholder:!0,id:!0}),Y.forEach(f),W.forEach(f),te=A(o),B=p(o,"DIV",{class:!0});var he=_(B);C=p(he,"DIV",{class:!0});var Z=_(C);F=p(Z,"LABEL",{for:!0});var me=_(F);le=q(me,"country"),me.forEach(f),se=A(Z),y=p(Z,"INPUT",{class:!0,type:!0,placeholder:!0,id:!0}),Z.forEach(f),he.forEach(f),ae=A(o),I.l(o),o.forEach(f),this.h()},h(){e(i,"for","exampleEmailInput"),e(d,"class","u-full-width"),e(d,"type","text"),e(d,"placeholder",n[0]),e(d,"id","exampleEmailInput"),e(c,"class","six columns"),e(v,"for","exampleEmailInput"),e(m,"class","u-full-width"),e(m,"type","text"),e(m,"placeholder",n[1]),e(m,"id","exampleEmailInput"),e(h,"class","six columns"),e(a,"class","row"),e(P,"for","exampleEmailInput"),e(s,"class","u-full-width"),e(s,"type","text"),e(s,"placeholder",n[2]),e(s,"id","exampleEmailInput"),e(T,"class","six columns"),e(V,"for","exampleEmailInput"),e(b,"class","u-full-width"),e(b,"type","text"),e(b,"placeholder",n[3]),e(b,"id","exampleEmailInput"),e(D,"class","six columns"),e(w,"class","row"),e(F,"for","exampleEmailInput"),e(y,"class","u-full-width"),e(y,"type","text"),e(y,"placeholder",n[4]),e(y,"id","exampleEmailInput"),e(C,"class","six columns"),e(B,"class","row")},m(r,o){re(r,t,o),l(t,a),l(a,c),l(c,i),l(i,E),l(c,k),l(c,d),N(d,n[0]),l(a,g),l(a,h),l(h,v),l(v,O),l(h,S),l(h,m),N(m,n[1]),l(t,z),l(t,w),l(w,T),l(T,P),l(P,M),l(T,G),l(T,s),N(s,n[2]),l(w,j),l(w,D),l(D,V),l(V,$),l(D,ee),l(D,b),N(b,n[3]),l(t,te),l(t,B),l(B,C),l(C,F),l(F,le),l(C,se),l(C,y),N(y,n[4]),l(t,ae),I.m(t,null),ne||(oe=[U(d,"input",n[9]),U(m,"input",n[10]),U(s,"input",n[11]),U(b,"input",n[12]),U(y,"input",n[13]),U(t,"submit",Ee(n[8]))],ne=!0)},p(r,[o]){o&1&&e(d,"placeholder",r[0]),o&1&&d.value!==r[0]&&N(d,r[0]),o&2&&e(m,"placeholder",r[1]),o&2&&m.value!==r[1]&&N(m,r[1]),o&4&&e(s,"placeholder",r[2]),o&4&&s.value!==r[2]&&N(s,r[2]),o&8&&e(b,"placeholder",r[3]),o&8&&b.value!==r[3]&&N(b,r[3]),o&16&&e(y,"placeholder",r[4]),o&16&&y.value!==r[4]&&N(y,r[4]),H===(H=ue(r))&&I?I.p(r,o):(I.d(1),I=H(r),I&&(I.c(),I.m(t,null)))},i:x,o:x,d(r){r&&f(t),I.d(),ne=!1,ke(oe)}}}function Pe(n,t,a){let c,i,E;ie(n,Te,s=>a(14,c=s)),ie(n,we,s=>a(5,i=s)),ie(n,Le,s=>a(15,E=s));let k="",d="",g="",h="",v="";async function O(){const s=await self.fetch("https://backend.encrygen.co.uk/api/clients/new",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token "+c},body:JSON.stringify({client:{name:k,Faddress:d,postcode:g,city:h,country:v,user:E}})});if(s.ok)return alert("client added successfully"),_e("/client"),s.json();throw alert("internal server error or wrong inputs type"),new Error(users)}async function S(){const s=await self.fetch("https://backend.encrygen.co.uk/api/clients/update/"+i.params.single,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Token "+c},body:JSON.stringify({client:{name:k,Faddress:d,postcode:g,city:h,country:v,user:E}})});if(s.ok)return alert("client data updated successfully"),_e("/client"),s.json();throw alert("internal server error or wrong inputs type"),new Error(users)}async function m(){if(i.params.single!="new")return await fetch("https://backend.encrygen.co.uk/api/clients/show/"+i.params.single,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+c}}).then(s=>s)}Ie(async()=>{let s=await m();if(s.ok){let j=await s.json();console.log(s.body),a(0,k=j.name),console.log(k),a(1,d=j.Faddress),a(2,g=j.postcode),a(3,h=j.city),a(4,v=j.country)}else alert("wrong client id")});function z(s){ge.call(this,n,s)}function w(){k=this.value,a(0,k)}function T(){d=this.value,a(1,d)}function P(){g=this.value,a(2,g)}function M(){h=this.value,a(3,h)}function G(){v=this.value,a(4,v)}return[k,d,g,h,v,i,O,S,z,w,T,P,M,G]}class Fe extends ve{constructor(t){super();be(this,t,Pe,je,ye,{})}}export{Fe as default};
