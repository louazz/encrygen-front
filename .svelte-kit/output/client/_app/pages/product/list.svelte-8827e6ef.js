import{S as lt,i as rt,s as ot,e as s,t as k,k as D,c as h,a as d,h as H,d as o,m as y,b as $,g as Z,F as t,M as nt,_ as st,j as J,G as x,$ as ht,K as tt}from"../../chunks/vendor-b1e65c03.js";import{t as dt,l as ct}from"../../chunks/useToken-a1248fbf.js";function et(r,a,i){const c=r.slice();return c[3]=a[i],c}function at(r){let a,i,c,_=r[3]._id+"",A,p,v,m=r[3].name+"",P,C,f,g=r[3].price+"",S,G,E,b,O,w,q,j,L,z,F,N;return{c(){a=s("tr"),i=s("td"),c=s("strong"),A=k(_),p=D(),v=s("td"),P=k(m),C=D(),f=s("td"),S=k(g),G=D(),E=s("td"),b=s("a"),O=k("Edit"),q=D(),j=s("a"),L=k("Delete"),z=D(),this.h()},l(u){a=h(u,"TR",{});var e=d(a);i=h(e,"TD",{});var n=d(i);c=h(n,"STRONG",{});var T=d(c);A=H(T,_),T.forEach(o),n.forEach(o),p=y(e),v=h(e,"TD",{});var l=d(v);P=H(l,m),l.forEach(o),C=y(e),f=h(e,"TD",{});var R=d(f);S=H(R,g),R.forEach(o),G=y(e),E=h(e,"TD",{});var K=d(E);b=h(K,"A",{href:!0});var M=d(b);O=H(M,"Edit"),M.forEach(o),q=y(K),j=h(K,"A",{});var Y=d(j);L=H(Y,"Delete"),Y.forEach(o),K.forEach(o),z=y(e),e.forEach(o),this.h()},h(){$(b,"href",w="/product/"+r[3]._id)},m(u,e){Z(u,a,e),t(a,i),t(i,c),t(c,A),t(a,p),t(a,v),t(v,P),t(a,C),t(a,f),t(f,S),t(a,G),t(a,E),t(E,b),t(b,O),t(E,q),t(E,j),t(j,L),t(a,z),F||(N=nt(j,"click",function(){st(r[1](r[3]._id))&&r[1](r[3]._id).apply(this,arguments)}),F=!0)},p(u,e){r=u,e&1&&_!==(_=r[3]._id+"")&&J(A,_),e&1&&m!==(m=r[3].name+"")&&J(P,m),e&1&&g!==(g=r[3].price+"")&&J(S,g),e&1&&w!==(w="/product/"+r[3]._id)&&$(b,"href",w)},d(u){u&&o(a),F=!1,N()}}}function it(r){let a,i,c,_,A,p,v,m,P,C,f,g,S,G,E,b,O,w,q,j,L,z,F,N,u=r[0],e=[];for(let n=0;n<u.length;n+=1)e[n]=at(et(r,u,n));return{c(){a=s("table"),i=s("thead"),c=s("tr"),_=s("th"),A=k("Product"),p=D(),v=s("th"),m=s("a"),P=k("New"),C=D(),f=s("tr"),g=s("th"),S=k("id"),G=D(),E=s("th"),b=k("name"),O=D(),w=s("th"),q=k("price"),j=D(),L=s("th"),z=k("action"),F=D(),N=s("tbody");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){a=h(n,"TABLE",{class:!0});var T=d(a);i=h(T,"THEAD",{});var l=d(i);c=h(l,"TR",{});var R=d(c);_=h(R,"TH",{colspan:!0});var K=d(_);A=H(K,"Product"),K.forEach(o),p=y(R),v=h(R,"TH",{});var M=d(v);m=h(M,"A",{href:!0});var Y=d(m);P=H(Y,"New"),Y.forEach(o),M.forEach(o),R.forEach(o),C=y(l),f=h(l,"TR",{});var B=d(f);g=h(B,"TH",{});var Q=d(g);S=H(Q,"id"),Q.forEach(o),G=y(B),E=h(B,"TH",{});var U=d(E);b=H(U,"name"),U.forEach(o),O=y(B),w=h(B,"TH",{});var V=d(w);q=H(V,"price"),V.forEach(o),j=y(B),L=h(B,"TH",{});var W=d(L);z=H(W,"action"),W.forEach(o),B.forEach(o),l.forEach(o),F=y(T),N=h(T,"TBODY",{});var X=d(N);for(let I=0;I<e.length;I+=1)e[I].l(X);X.forEach(o),T.forEach(o),this.h()},h(){$(_,"colspan","3"),$(m,"href","/product/new"),$(a,"class","u-full-width")},m(n,T){Z(n,a,T),t(a,i),t(i,c),t(c,_),t(_,A),t(c,p),t(c,v),t(v,m),t(m,P),t(i,C),t(i,f),t(f,g),t(g,S),t(f,G),t(f,E),t(E,b),t(f,O),t(f,w),t(w,q),t(f,j),t(f,L),t(L,z),t(a,F),t(a,N);for(let l=0;l<e.length;l+=1)e[l].m(N,null)},p(n,[T]){if(T&3){u=n[0];let l;for(l=0;l<u.length;l+=1){const R=et(n,u,l);e[l]?e[l].p(R,T):(e[l]=at(R),e[l].c(),e[l].m(N,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=u.length}},i:x,o:x,d(n){n&&o(a),ht(e,n)}}}function ft(r,a,i){let c,_;tt(r,dt,p=>i(2,c=p)),tt(r,ct,p=>i(0,_=p));async function A(p){return await fetch("https://backend.encrygen.co.uk/api/products/delete/"+p,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token "+c}}).then(v=>{location.reload()})}return[_,A]}class pt extends lt{constructor(a){super();rt(this,a,ft,it,ot,{})}}export{pt as default};
