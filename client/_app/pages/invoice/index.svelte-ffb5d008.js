import{S as ie,i as le,s as ce,e as o,t as z,k as u,w as Y,c as i,a as $,h as F,d as v,m as d,x as Z,b as k,g as J,F as t,M as ee,y as te,L as ne,q as re,o as se,B as ae,O as ue,K as I}from"../../chunks/vendor-022b7721.js";import de from"../product/index.svelte-c76905ba.js";import pe from"../client/index.svelte-d911d5a9.js";import{e as he,i as fe,a as oe,t as me}from"../../chunks/useToken-04409780.js";import{g as ve}from"../../chunks/navigation-bd39ff07.js";import"../product/list.svelte-6b09f99a.js";import"../product/listinv.svelte-f1978a29.js";import"../client/list.svelte-236d31a3.js";import"../client/listinv.svelte-5f899136.js";import"../../chunks/singletons-a6a7384f.js";function _e(h){let l,a,y,j,f,c,m,e,_,w,s,R,C,b,S,x,A,E,P,T,q,B,g,O,D,G,K,N,U,H,V,L;return b=new de({props:{invoice:!0}}),g=new pe({props:{invoice:!0}}),{c(){l=o("div"),a=o("a"),y=z("Generate"),j=u(),f=o("a"),c=o("input"),m=u(),e=o("div"),_=o("h3"),w=z("Add Products"),s=u(),R=o("hr"),C=u(),Y(b.$$.fragment),S=u(),x=o("hr"),A=u(),E=o("h3"),P=z("Select Client"),T=u(),q=o("hr"),B=u(),Y(g.$$.fragment),O=u(),D=o("hr"),G=u(),K=o("br"),N=u(),U=o("br"),this.h()},l(n){l=i(n,"DIV",{class:!0});var p=$(l);a=i(p,"A",{class:!0,href:!0});var M=$(a);y=F(M,"Generate"),M.forEach(v),j=d(p),f=i(p,"A",{hrf:!0});var Q=$(f);c=i(Q,"INPUT",{type:!0,placeholder:!0}),Q.forEach(v),p.forEach(v),m=d(n),e=i(n,"DIV",{class:!0});var r=$(e);_=i(r,"H3",{});var W=$(_);w=F(W,"Add Products"),W.forEach(v),s=d(r),R=i(r,"HR",{}),C=d(r),Z(b.$$.fragment,r),S=d(r),x=i(r,"HR",{}),A=d(r),E=i(r,"H3",{});var X=$(E);P=F(X,"Select Client"),X.forEach(v),T=d(r),q=i(r,"HR",{}),B=d(r),Z(g.$$.fragment,r),O=d(r),D=i(r,"HR",{}),G=d(r),K=i(r,"BR",{}),N=d(r),U=i(r,"BR",{}),r.forEach(v),this.h()},h(){k(a,"class","active"),k(a,"href","#"),k(c,"type","text"),k(c,"placeholder","Choose a Key"),k(f,"hrf","#"),k(l,"class","navbar"),k(e,"class","main")},m(n,p){J(n,l,p),t(l,a),t(a,y),t(l,j),t(l,f),t(f,c),ee(c,h[0]),J(n,m,p),J(n,e,p),t(e,_),t(_,w),t(e,s),t(e,R),t(e,C),te(b,e,null),t(e,S),t(e,x),t(e,A),t(e,E),t(E,P),t(e,T),t(e,q),t(e,B),te(g,e,null),t(e,O),t(e,D),t(e,G),t(e,K),t(e,N),t(e,U),H=!0,V||(L=[ne(a,"click",h[1]),ne(c,"input",h[2])],V=!0)},p(n,[p]){p&1&&c.value!==n[0]&&ee(c,n[0])},i(n){H||(re(b.$$.fragment,n),re(g.$$.fragment,n),H=!0)},o(n){se(b.$$.fragment,n),se(g.$$.fragment,n),H=!1},d(n){n&&v(l),n&&v(m),n&&v(e),ae(b),ae(g),V=!1,ue(L)}}}function be(h,l,a){let y,j,f,c;I(h,he,s=>a(3,y=s)),I(h,fe,s=>a(4,j=s)),I(h,oe,s=>a(5,f=s)),I(h,me,s=>a(6,c=s));let m="";const e=async()=>(console.log(oe),await fetch("https://backend.encrygen.co.uk/api/invoices/new",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token "+c},body:JSON.stringify({invoice:{client:f,user:j,products:y,encr:null,key:m}})}).then(s=>s)),_=async()=>{let s=await e();if(s.ok){let R=await s.json(),C=encodeURI(R.encr);ve("/invoice/"+C)}else alert("an error has occured")};function w(){m=this.value,a(0,m)}return[m,_,w]}class Ie extends ie{constructor(l){super();le(this,l,be,_e,ce,{})}}export{Ie as default};
